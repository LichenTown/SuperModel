import { EntityModelDetails } from "../Types/index.ts";

/**
 * ### Supermodel from File
 * 
 * Handles file generation for entity type models.
 * 
 * @example
 * ```json
 * {
 *   "types": ["player_slim", "player"],
 *   "model": "chicken.jem",
 *   "texture": "chicken.png",
 *   "properties": {
 *     "names.^": "PalmMC",
 *     "nbt.^.equipment.head.components": "raw:regex:.*\"minecraft:custom_name\".*Chicken.*"
 *   }
 * }
 * ```
 * 
 * ### Supermodel from File with Autodetection
 * 
 * If 'model' and/or 'texture' are not specified in a .smodel file,
 * the generator will automatically look for files with the same base name.
 * For example, chicken.smodel will look for chicken.jem and chicken.png.
 * 
 * @example
 * ```json
 * {
 *   "types": ["player_slim", "player"],
 *   "properties": {
 *     "names.^": "PalmMC"
 *   }
 * }
 * ```
 * 
 * ### Supermodel from Raw Model Data
 * 
 * Assumes that the texture has already been handled/generated by generator.
 * 
 * @example
 * ```ts
 * const modelData = {
 *   type: "player",
 *   model: { ... },
 *   properties: {
 *     ["names.^"]: "PalmMC",
 *     ["nbt.^.equipment.head.components"]: "raw:regex:.*\"minecraft:custom_name\".*Chicken.*"
 *   }
 * }
 * ```
 * ### Supermodels using multiple models and textures.
 * 
 * You can supply multiple textures and a map of models keyed by entity type.
 *
 * @example
* ```json
 * {
 *   "models": {
 *     "player": "chicken.jem",
 *     "player_slim": "chicken_slim.jem"
 *   },
 *   "textures": ["chicken.png", "chicken_overlay.png"],
 *   "properties": { "names.^": "PalmMC" }
 * }
 * ```
*/
class EntityModel {
    private static modelQueue: EntityModelDetails[] = [];

    public static add(model: EntityModelDetails): void {
        EntityModel.modelQueue.push(model);
    }

    public static getQueue(): EntityModelDetails[] {
        return EntityModel.modelQueue;
    }

    public static clearQueue(): void {
        EntityModel.modelQueue = [];
    }

    public static getQueueSize(): number {
        return EntityModel.modelQueue.length;
    }
}

export { EntityModel };
